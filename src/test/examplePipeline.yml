trigger:
  - main

pool:
    vmImage: 'ubuntu-latest'

variables:
    solution: '**/*.sln'
    buildPlatform: 'Any CPU'
    buildConfiguration: 'Release'

stages:
  - stage: Build
    jobs:
      - job: BuildJob
        steps:
          - task: NuGetToolInstaller@1
            # This task typically requires no inputs

          - task: NuGetCommand@2
            inputs:
                # Missing required input 'solution'
                command: 'restore'
                restoreMode: 'verify'

          - task: NuGetCommand@3
            inputs:
                # Missing required input 'solution'
                restoreMode: 'verify'

          - task: VSBuild@1
            inputs:
                solution: '$(solution)'
                platform: '$(buildPlatform)'
                # Missing required configuration input

          - task: AzureWebApp@1
            inputs:
                # This task likely has several required inputs that could be missing
                azureSubscription: 'MyAzureSubscription'
                # Intentionally omitting some potentially required inputs

          - task: PublishBuildArtifacts@1
            inputs:
                PathtoPublish: '$(Build.ArtifactStagingDirectory)'
                ArtifactName: 'Test'
                ArtifactType: 'a'
                # Potentially missing some required inputs

          - script: |
                echo "Running some custom script"

          - task: CmdLine@2
            inputs:
                script: 'echo Hello, World!'

          - task: CopyFiles@2
            inputs:
                # SourceFolder: '$(agent.builddirectory)'
                # Contents: '**'
                TargetFolder: '$(build.artifactstagingdirectory)'
                displayName: 'Run a one-line script'

          - task: CopyFiles@2
            inputs:
                # SourceFolder: '$(agent.builddirectory)'
                Contents: '**'
                TargetFolder: '$(build.artifactstagingdirectory)'
                displayName: 'Run a one-line script'

          - task: DownloadPipelineArtifact@2
            inputs:
                buildType: 'specific'
                project: 'blahblahblah'
                definition: 'blah'
                buildVersionToDownload: 'latest'
                targetPath: '$(Pipeline.Workspace)'

          - task: PowerShell@2
            displayName: 'PowerShell Script'
            inputs:
                targetType: filePath
                filePath: '$(Pipeline.Workspace)/Scripts/TestScript.ps1'
                arguments: 'whatever your script needs..'
